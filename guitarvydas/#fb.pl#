
 
 
 
 
 
 
 
 
 
 
 
 -g 'consult(rects).' \\
 -g 'consult(sequence).' \\
 -g 'halt.' \\
 -g 'printRects.' \\
 temp.pl
").
").
").
").
").
").
").
").
").
").
").
").
").
").
").
 ").
").
# augment the factbase (fb.pl) after every inferencing step
## but does not mark rectangles (the default)
## create rect fact for every vertex that is not an edge/ellipse/text
## sequence.drawio file contains vertexes, and marks all edge and ellipse (and text)
## this pass finds the defaults and creates explicit rect(...) facts
cat sequence.pl temp.pl | sort 
cell(id10,"").
cell(id11,"").
cell(id12,"").
cell(id13,"").
cell(id14,"").
cell(id15,"").
cell(id16,"").
cell(id17,"").
cell(id18,"").
cell(id19,"").
cell(id2,"").
cell(id20,"").
cell(id21,"").
cell(id22,"").
cell(id23,"").
cell(id24,"").
cell(id25,"").
cell(id26,"").
cell(id27,"").
cell(id28,"").
cell(id29,"").
cell(id3,"").
cell(id30,"").
cell(id31,"").
cell(id32,"").
cell(id33,"").
cell(id34,"").
cell(id35,"").
cell(id36,"").
cell(id37,"").
cell(id38,"").
cell(id4,"").
cell(id5,"").
cell(id6,"").
cell(id7,"").
cell(id8,"").
cell(id9,"").
cp fb.pl _seq_end_fb.pl
diagram(id1,"").
diagramContains(id1,id10).
diagramContains(id1,id11).
diagramContains(id1,id12).
diagramContains(id1,id13).
diagramContains(id1,id14).
diagramContains(id1,id15).
diagramContains(id1,id16).
diagramContains(id1,id17).
diagramContains(id1,id18).
diagramContains(id1,id19).
diagramContains(id1,id2).
diagramContains(id1,id20).
diagramContains(id1,id21).
diagramContains(id1,id22).
diagramContains(id1,id23).
diagramContains(id1,id24).
diagramContains(id1,id25).
diagramContains(id1,id26).
diagramContains(id1,id27).
diagramContains(id1,id28).
diagramContains(id1,id29).
diagramContains(id1,id3).
diagramContains(id1,id30).
diagramContains(id1,id31).
diagramContains(id1,id32).
diagramContains(id1,id33).
diagramContains(id1,id34).
diagramContains(id1,id35).
diagramContains(id1,id36).
diagramContains(id1,id37).
diagramContains(id1,id38).
diagramContains(id1,id4).
diagramContains(id1,id5).
diagramContains(id1,id6).
diagramContains(id1,id7).
diagramContains(id1,id8).
diagramContains(id1,id9).
fillColor(id12,"red").
fillColor(id13,"red").
fillColor(id15,"red").
fillColor(id16,"red").
fillColor(id18,"red").
fillColor(id20,"red").
fillColor(id22,"red").
fillColor(id24,"red").
fillColor(id26,"red").
fillColor(id28,"red").
fillColor(id30,"red").
fillColor(id32,"red").
fillColor(id34,"red").
fillColor(id36,"red").
fillColor(id37,"red").
fillColor(id38,"red").
fillColor(id5,"red").
height(id10,70).
height(id11,70).
height(id12,237.5).
height(id13,30).
height(id14,70).
height(id15,30).
height(id16,30).
height(id17,70).
height(id18,30).
height(id19,70).
height(id20,30).
height(id21,70).
height(id22,30).
height(id23,70).
height(id24,30).
height(id25,70).
height(id26,30).
height(id27,70).
height(id28,30).
height(id29,70).
height(id30,30).
height(id31,70).
height(id32,30).
height(id33,70).
height(id34,30).
height(id35,70).
height(id36,30).
height(id37,30).
height(id38,30).
height(id4,70).
height(id5,30).
height(id6,95).
height(id7,300).
height(id8,70).
height(id9,70).
name(id1,"Details").
node emittopological.js
node sequence.js 
rect(id10,"").
rect(id11,"").
rect(id12,"").
rect(id13,"").
rect(id14,"").
rect(id15,"").
rect(id16,"").
rect(id17,"").
rect(id18,"").
rect(id19,"").
rect(id2,"").
rect(id20,"").
rect(id21,"").
rect(id22,"").
rect(id23,"").
rect(id24,"").
rect(id25,"").
rect(id26,"").
rect(id27,"").
rect(id28,"").
rect(id29,"").
rect(id3,"").
rect(id30,"").
rect(id31,"").
rect(id32,"").
rect(id33,"").
rect(id34,"").
rect(id35,"").
rect(id36,"").
rect(id37,"").
rect(id38,"").
rect(id4,"").
rect(id5,"").
rect(id6,"").
rect(id7,"").
rect(id8,"").
rect(id9,"").
swipl -q \\
tsort topo1.txt 
value(id10,"emit topological").
value(id11,"tsort").
value(id12,"
value(id13,"
value(id14,"receivers").
value(id15,"
value(id16,"
value(id17,"bounding boxes").
value(id18,"
value(id19,"check bounding boxes").
value(id20,"
value(id21,"contains1").
value(id22,"
value(id23,"rectangles must not intersect").
value(id24,"
value(id25,"deepcontains").
value(id26,"
value(id27,"directcontains").
value(id28,"
value(id29,"port contains").
value(id30,"
value(id31,"port directions").
value(id32,"
value(id33,"assign names").
value(id34,"
value(id35,"assign code").
value(id36,"
value(id37,"
value(id38,"
value(id4,"convert to fb").
value(id5,"
value(id6,"top level").
value(id7,"make rects").
value(id8,"check edges").
value(id9,"senders").
vertex(id10,"").
vertex(id11,"").
vertex(id12,"").
vertex(id13,"").
vertex(id14,"").
vertex(id15,"").
vertex(id16,"").
vertex(id17,"").
vertex(id18,"").
vertex(id19,"").
vertex(id20,"").
vertex(id21,"").
vertex(id22,"").
vertex(id23,"").
vertex(id24,"").
vertex(id25,"").
vertex(id26,"").
vertex(id27,"").
vertex(id28,"").
vertex(id29,"").
vertex(id30,"").
vertex(id31,"").
vertex(id32,"").
vertex(id33,"").
vertex(id34,"").
vertex(id35,"").
vertex(id36,"").
vertex(id37,"").
vertex(id38,"").
vertex(id4,"").
vertex(id5,"").
vertex(id6,"").
vertex(id7,"").
vertex(id8,"").
vertex(id9,"").
width(id10,147.5).
width(id11,147.5).
width(id12,370).
width(id13,95).
width(id14,115).
width(id15,95).
width(id16,175).
width(id17,115).
width(id18,95).
width(id19,250).
width(id20,225).
width(id21,115).
width(id22,95).
width(id23,190).
width(id24,115).
width(id25,130).
width(id26,110).
width(id27,135).
width(id28,115).
width(id29,140).
width(id30,120).
width(id31,140).
width(id32,120).
width(id33,140).
width(id34,120).
width(id35,140).
width(id36,120).
width(id37,127.5).
width(id38,127.5).
width(id4,230).
width(id5,180).
width(id6,240).
width(id7,410).
width(id8,200).
width(id9,115).
x(id10,182.5).
x(id11,182.5).
x(id12,210).
x(id13,195).
x(id14,375).
x(id15,385).
x(id16,195).
x(id17,180).
x(id18,190).
x(id19,320).
x(id20,335).
x(id21,180).
x(id22,190).
x(id23,630).
x(id24,665).
x(id25,320).
x(id26,330).
x(id27,470).
x(id28,480).
x(id29,180).
x(id30,190).
x(id31,340).
x(id32,350).
x(id33,180).
x(id34,190).
x(id35,340).
x(id36,350).
x(id37,190).
x(id38,190).
x(id4,195).
x(id5,220).
x(id6,70).
x(id7,190).
x(id8,180).
x(id9,185).
y(id10,1200).
y(id11,1290).
y(id12,312.5).
y(id13,640).
y(id14,610).
y(id15,640).
y(id16,740).
y(id17,810).
y(id18,840).
y(id19,810).
y(id20,840).
y(id21,910).
y(id22,940).
y(id23,910).
y(id24,940).
y(id25,910).
y(id26,940).
y(id27,910).
y(id28,940).
y(id29,1000).
y(id30,1030).
y(id31,1000).
y(id32,1030).
y(id33,1090).
y(id34,1120).
y(id35,1090).
y(id36,1120).
y(id37,1230).
y(id38,1320).
y(id4,130).
y(id5,155).
y(id6,10).
y(id7,280).
y(id8,710).
y(id9,610).
